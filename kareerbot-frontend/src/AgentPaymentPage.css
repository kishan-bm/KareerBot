/* --- VARIABLES (ensure these match your theme) --- */
:root {
    --color-bg-dark: #1a202c; /* Deep Charcoal/Navy */
    --color-bg-card-main: rgba(30, 41, 59, 0.75); /* Translucent dark background for main card */
    --color-bg-card-detail: rgba(30, 41, 59, 0.9); /* Slightly less translucent */
    --color-text-light: #e2e8f0; /* Off-white text */
    --color-text-inactive: #a0aec0; /* Subtle grey for inactive text */
    --color-accent-blue: #00bcd4; /* Vibrant Teal/Cyan - Primary accent */
    --color-accent-hover: #00e0f0; /* Brighter accent for hover/glow */
    --color-border-subtle: rgba(255, 255, 255, 0.1); /* Light border/separator */
}

/* -------------------------------------------------------------------
 * 1. MAIN LAYOUT AND ANIMATION
 * ------------------------------------------------------------------- */

.payment-page-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100vh; 
    padding: 20px;
    gap: 50px;
    min-height: 100vh;
    position: fixed; 
    top: 0;
    left: 0;
    background-color: var(--color-bg-dark); 
    z-index: 1000; 
    overflow-y: hidden; 
}

/* --- MAIN CARD WRAPPER & SHIFT ANIMATION --- */
.payment-card-wrapper {
    width: 100%;
    max-width: 650px; 
    transition: max-width 0.4s ease;
    flex-shrink: 0; 
    /* height: 90vh; */
}

/* ðŸŽ¯ NEW RULE: Centering for the single card state */
/* This will only apply when .shifted is NOT present, effectively centering the single card */
.payment-page-container:not(.shifted) > .payment-card-wrapper {
    margin: 100px; /* Overrides flex centering when it's the only item */
}


.payment-card-wrapper.shifted {
    /* ðŸŽ¯ CHANGE: When shifted, it reduces, but still looks good next to the panel */
    max-width: 650px; /* Slightly larger than before, if needed, adjust */
    /* Add transform to explicitly push it left, making room */
    transform: translateX(-90px); /* Adjust this value as needed to align */
    max-height: 650px;
}
/* If the above transform causes issues, try making this just max-width and let flexbox handle it */
/* .payment-card-wrapper.shifted {
    max-width: 450px; 
} */


/* --- MAIN PAYMENT CARD --- */
.payment-card {
    background-color: var(--color-bg-card-main);
    backdrop-filter: blur(10px);
    border: 1px solid var(--color-accent-blue);
    border-radius: 12px;
    padding: 35px; 
    text-align: center;
    width: 100%;
    height: auto; 
    min-height: 500px; 
    box-shadow: 0 0 30px rgba(0, 188, 212, 0.4), 
                inset 0 0 10px rgba(0, 188, 212, 0.2); 
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1px; 
}

/* --- DETAIL PANEL WRAPPER & STYLING (The right-hand card) --- */
.detail-panel-wrapper {
    flex-grow: 1;
    width: 100%;
    max-width: 300px; 
    /* height: auto;  */
    min-height: 500px; 
    animation: fadeInSlideRight 0.4s ease-out; 
    flex-shrink: 0; 
    /* ðŸŽ¯ NEW RULE: To align with the shifted main card */
    transform: translateX(-110px); /* Same transform as main card for alignment */
   
}


.detail-panel {
    background-color: var(--color-bg-card-detail);
    border: 1px solid var(--color-accent-blue);
    border-radius: 12px;
    padding: 25px;
    width: 100%;
    height: 100%;
    box-shadow: 0 0 20px rgba(0, 188, 212, 0.3);
    text-align: left;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.detail-title {
    font-size: 1.4rem;
    color: var(--color-text-light);
    margin-bottom: 5px;
}

.detail-subtitle {
    font-size: 0.9rem;
    color: var(--color-text-inactive);
    margin-bottom: 10px;
}

/* ðŸŽ¯ NEW ANIMATION for detail panel */
@keyframes fadeInSlideRight {
    from { opacity: 0; transform: translateX(200px); } /* Start further right */
    to { opacity: 1; transform: translateX(-150px); } /* End at the same shifted position as main card */
}

/* -------------------------------------------------------------------
 * 2. ORDER SUMMARY & OPTIONS (Retained/Refined)
 * ------------------------------------------------------------------- */

.payment-title {
    font-size: 2rem;
    color: var(--color-text-light);
    margin-bottom: 5px;
    font-weight: 700;
}

.payment-subtitle {
    font-size: 1rem;
    color: var(--color-text-inactive);
    line-height: 1.5;
}

.order-summary-section {
    width: 100%;
    text-align: left;
    background-color: rgba(255, 255, 255, 0.05); 
    border-radius: 8px;
    padding: 20px;
}

.section-title {
    font-size: 1.1rem;
    color: var(--color-text-light);
    margin-bottom: 15px;
    font-weight: 600;
    border-bottom: 1px solid var(--color-border-subtle); 
    padding-bottom: 10px;
}

.order-item, .order-total {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    color: var(--color-text-inactive);
    font-size: 1rem;
}

.order-total {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--color-accent-blue);
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px dashed var(--color-border-subtle); 
}

.item-price, .total-amount {
    color: var(--color-text-light);
}

.payment-options-section {
    width: 100%;
    text-align: left;
}

.options-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); 
    gap: 20px;
    margin-top: 15px;
}

.payment-option-btn {
    background-color: rgba(255, 255, 255, 0.08);
    border: 1px solid var(--color-border-subtle);
    border-radius: 10px;
    padding: 20px 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    color: var(--color-text-inactive);
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.payment-option-btn:hover:not(.active) {
    background-color: rgba(0, 188, 212, 0.15); 
    border-color: var(--color-accent-blue);
    color: var(--color-text-light);
}

/* ACTIVE STATE for button when detail panel is open */
.payment-option-btn.active {
    background-color: rgba(0, 188, 212, 0.15); /* Keep background subtle, not solid blue */
    color: var(--color-accent-blue); /* Highlight text */
    border-color: var(--color-accent-blue);
    box-shadow: 0 0 15px rgba(0, 188, 212, 0.6); 
}

.option-icon {
    width: 40px;
    height: 40px;
    filter: invert(50%) brightness(1.8); 
    transition: filter 0.3s ease;
}

.payment-option-btn.active .option-icon {
    /* Make active icon blue/teal */
    filter: invert(40%) sepia(80%) saturate(1500%) hue-rotate(150deg) brightness(1.2);
}

.payment-option-btn:hover:not(.active) .option-icon {
    filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(0deg) brightness(100%); 
}


/* --- SECURE PAYMENT INFO --- */
.secure-payment-info {
    font-size: 0.85rem;
    color: var(--color-text-inactive);
    margin-top: 20px; 
    margin-bottom: 0px;
}

.secure-payment-info span {
    font-weight: 600;
    color: var(--color-accent-blue);
}

/* -------------------------------------------------------------------
 * 3. UPI DETAIL PANEL SPECIFIC STYLES
 * ------------------------------------------------------------------- */

.upi-id-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.upi-id-item {
    background-color: rgba(255, 255, 255, 0.05);
    padding: 10px;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid var(--color-border-subtle);
}

.upi-id-info {
    display: flex;
    flex-direction: column;
    text-align: left;
    flex-grow: 1; 
}

.upi-name {
    font-size: 0.8rem;
    color: var(--color-accent-blue);
    font-weight: 600;
}

.upi-id {
    font-size: 0.95rem;
    color: var(--color-text-light);
    word-break: break-all;
}

.copy-btn {
    background: none;
    border: 1px solid var(--color-border-subtle);
    border-radius: 4px;
    cursor: pointer;
    padding: 5px;
    margin-left: 10px;
    transition: background-color 0.2s;
}

.copy-btn:hover {
    background-color: rgba(0, 188, 212, 0.2);
    border-color: var(--color-accent-blue);
}

.copy-icon {
    width: 18px;
    height: 18px;
    filter: invert(70%) sepia(80%) saturate(1500%) hue-rotate(150deg) brightness(1.2);
    transition: filter 0.2s;
}


/* --- UPLOAD SECTION STYLES --- */
.upload-section {
    width: 100%;
    margin-top: 10px;
    
}

.upload-label {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100px;
    width: 100%;
    border: 2px dashed var(--color-accent-blue);
    border-radius: 8px;
    cursor: pointer;
    background-color: rgba(0, 188, 212, 0.05);
    transition: all 0.3s ease;
    /* padding: 10px; */
    text-align: center;
}

.upload-label:hover {
    background-color: rgba(0, 188, 212, 0.15);
    border-style: solid;
}

.upload-label.uploaded {
    border-style: solid;
    border-color: #48bb78; 
    background-color: rgba(72, 187, 120, 0.1);
}

.upload-icon-lg {
    width: 35px;
    height: 35px;
    filter: invert(40%) sepia(80%) saturate(1500%) hue-rotate(150deg) brightness(1.2);
    margin-bottom: 5px;
}

.upload-label.uploaded .upload-icon-lg {
    filter: invert(60%) sepia(80%) saturate(1500%) hue-rotate(80deg) brightness(1.2); 
}

.upload-text {
    font-size: 0.9rem;
    color: var(--color-text-inactive);
    line-height: 1.3;
}

.upload-label.uploaded .upload-text {
    color: var(--color-text-light);
}


/* --- CONFIRM BUTTON (Used by UPI Panel) --- */
.confirm-payment-btn {
    padding: 15px 40px;
    border: none;
    border-radius: 8px;
    background-color: var(--color-accent-blue);
    color: var(--color-bg-dark); 
    font-size: 1.2rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s, box-shadow 0.3s, transform 0.2s;
    box-shadow: 0 0 20px rgba(0, 188, 212, 0.6); 
}

/* Detail panel button specific styles */
.detail-confirm-btn {
    margin-top: auto; 
    width: 100%;
}

.confirm-payment-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    box-shadow: none;
}

.confirm-payment-btn:hover:not(:disabled) {
    background-color: var(--color-accent-hover);
    box-shadow: 0 0 30px rgba(0, 188, 212, 0.9);
    transform: translateY(-2px);
}


/* -------------------------------------------------------------------
 * 4. MEDIA QUERIES (Updated for new layout)
 * ------------------------------------------------------------------- */

@media (max-width: 950px) {
    .payment-page-container {
        flex-direction: column; 
        height: auto; 
        padding-top: 50px; 
        padding-bottom: 50px;
        position: absolute; 
    }
    .payment-card-wrapper, .payment-card-wrapper.shifted {
        max-width: 95%; 
        transform: none; 
    }
    .detail-panel-wrapper {
        max-width: 95%; 
        min-height: auto; 
        animation: none; 
        margin-top: 20px; 
        transform: none;
    }
    /* Reset keyframe for smaller screens */
    @keyframes fadeInSlideRight {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .payment-card {
        padding: 30px;
    }
}

@media (max-width: 600px) {
    .options-grid {
        grid-template-columns: 1fr; 
    }
    .payment-card, .detail-panel {
        padding: 20px;
    }
    .payment-title {
        font-size: 1.5rem;
    }
    .detail-title {
        font-size: 1.2rem;
    }
    .upload-label {
        height: 100px;
    }
}

/* -------------------------------------------------------------------
 * NEW SECTION: QR CODE LIST STYLES (for Scanner Payment)
 * ------------------------------------------------------------------- */

.qr-code-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 0px 0;
    /* margin-bottom: 20px; */
}

.qr-option-card {
    background-color: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--color-border-subtle);
    border-radius: 8px;
    padding: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s;
}

.active-qr-option {
    border-color: var(--color-accent-blue);
    background-color: rgba(0, 188, 212, 0.2);
}

.qr-arrow {
    color: var(--color-accent-blue);
    font-size: 1.5rem;
    font-weight: bold;
}

.qr-option-info {
    text-align: left;
}

.qr-option-card:hover {
    background-color: rgba(0, 188, 212, 0.1);
    border-color: var(--color-accent-blue);
}


.qr-code-item {
    background-color: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--color-border-subtle);
    border-radius: 8px;
    padding: 15px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.qr-image-placeholder {
    width: 80px;
    height: 80px;
    background-color: var(--color-bg-dark); /* Dark square for QR code */
    display: flex;
    justify-content: center;
    align-items: center;
    border: 2px solid var(--color-accent-blue);
    border-radius: 4px;
    flex-shrink: 0;
}

.qr-image-placeholder p {
    font-size: 0.7rem;
    color: var(--color-accent-blue);
}

.qr-image-placeholder.secondary {
    border-color: var(--color-text-inactive);
}

.qr-code-info {
    text-align: left;
}

.qr-name {
    font-size: 1rem;
    color: var(--color-text-light);
    font-weight: 600;
    margin-bottom: 3px;
}

.qr-status {
    font-size: 0.8rem;
    color: var(--color-accent-blue);
}

/* --- QR POP-UP/MODAL STYLES --- */
.qr-popup-overlay {
    position: fixed; 
    /* To cover the entire screen, assuming your payment page is full screen or a large modal */
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000; /* Ensure it is on top of everything */
}

.qr-popup-content {
    background-color: var(--color-bg-dark);
    border: 2px solid var(--color-accent-blue);
    border-radius: 10px;
    padding: 30px;
    text-align: center;
    position: relative;
    max-width: 350px;
    width: 90%;
    /* Ensure the pop-up itself is centered and visible */
    box-shadow: 0 5px 25px rgba(0, 188, 212, 0.4); 
}

.qr-popup-close {
    position: absolute;
    top: 10px;
    right: 15px;
    background: none;
    border: none;
    color: var(--color-text-inactive);
    font-size: 1.5rem;
    cursor: pointer;
    line-height: 1;
}

.qr-popup-title {
    color: var(--color-accent-blue);
    margin-bottom: 20px;
    font-size: 1.3rem;
}

.qr-image-display {
    padding: 15px;
    background-color: white; /* Essential for QR codes to scan properly */
    border-radius: 4px;
    margin-bottom: 15px;
    display: inline-block; /* To contain the inner image */
}

.large-qr-image {
    width: 250px;
    height: 250px;
    display: block;
}

.qr-popup-instruction {
    font-size: 0.9rem;
    color: var(--color-text-inactive);
}

/* -------------------------------------------------------------------
 * NEW SECTION: BANK ACCOUNT LIST STYLES (Accordion)
 * ------------------------------------------------------------------- */

.bank-account-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 5px 0;
}

.bank-details-accordion {
    width: 100%;
    border: 1px solid var(--color-border-subtle);
    border-radius: 8px;
    background-color: rgba(255, 255, 255, 0.05);
    overflow: hidden; /* Ensures smooth opening */
    transition: all 0.3s ease;
}

/* Style the clickable summary/header */
.bank-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    cursor: pointer;
    font-weight: 600;
    color: var(--color-text-light);
    list-style: none; /* Hide default triangle/arrow */
    position: relative;
    transition: background-color 0.2s;
}

.bank-details-accordion[open] > .bank-summary {
    background-color: rgba(0, 188, 212, 0.1);
    color: var(--color-accent-blue);
}

/* Custom indicator for accordion */
.bank-summary::after {
    content: '+';
    font-size: 1.5rem;
    line-height: 1;
    transition: transform 0.2s;
}

.bank-details-accordion[open] > .bank-summary::after {
    content: '-';
    transform: rotate(0deg);
}

.bank-name {
    font-size: 1.1rem;
}

.bank-status {
    font-size: 0.8rem;
    color: var(--color-accent-blue);
    padding: 4px 8px;
    border-radius: 4px;
    background-color: rgba(0, 188, 212, 0.2);
}

/* Style the details content */
.account-details-content {
    padding: 10px 15px 15px;
    border-top: 1px dashed var(--color-border-subtle);
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.account-detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.9rem;
}

.detail-label {
    color: var(--color-text-inactive);
    flex-shrink: 0;
    margin-right: 10px;
}

.detail-value {
    color: var(--color-text-light);
    font-weight: 500;
    word-break: break-all;
    text-align: right;
    flex-grow: 1;
}

/* Reuse the existing .copy-btn and .copy-icon styles */

.scrollable-content-area {
    /* Takes up all available space between the header/title and the footer/button */
    flex-grow: 1; 
    overflow-y: auto; /* Enables vertical scrolling when content overflows */
    padding-right: 10px; /* Space for the scrollbar so it doesn't overlap content */
    margin: 10px 0 20px 0; /* Add vertical padding/margin */
    scrollbar-width: thin;
    scrollbar-color: var(--color-accent-blue) var(--color-bg-dark); /* Adjust colors to match theme */
}

.scrollable-content-area::-webkit-scrollbar {
    width: 8px;
}

.scrollable-content-area::-webkit-scrollbar-thumb {
    background-color: var(--color-accent-blue);
    border-radius: 4px;
}